# 如何访问系统管理功能

## 🎯 快速指南

### 方式 1: 通过左侧菜单 (推荐)

1. 登录系统
2. 在左侧菜单栏找到 **"系统管理"** 菜单项
3. 点击进入系统管理页面

菜单位置:
```
侧边栏菜单:
├── 概览
├── 生成练习单
├── 提交 / 批改
├── 练习单管理
├── 学习库管理
├── 资料库维护
├── 学生管理
├── 我的账号
└── 系统管理  ← 在这里!
```

### 方式 2: 直接访问 URL

在浏览器地址栏输入:
```
http://你的服务器地址/backup.html
```

---

## 📦 系统管理页面功能

进入后,您会看到三个标签页:

### 1. 📦 备份管理 (默认页面)

**功能:**
- ✅ 创建完整备份
- ✅ 查看备份列表
- ✅ 下载备份到本地
- ✅ 恢复备份
- ✅ 删除旧备份
- ✅ 一键清理旧备份

**操作示例:**

**创建备份:**
```
1. 点击 "创建完整备份" 按钮
2. (可选) 输入备份描述
3. 点击 "创建备份"
4. 等待完成
```

**下载备份:**
```
1. 在备份列表中找到需要的备份
2. 点击 "下载" 按钮
3. 浏览器自动下载
```

**恢复备份:**
```
1. 在备份列表中找到需要恢复的备份
2. 点击 "恢复" 按钮
3. 阅读警告,确认操作
4. 点击 "确认恢复"
5. 等待完成后刷新页面
```

---

### 2. ⚙️ 系统设置

**功能:**
- ✅ 启用/禁用自动备份
- ✅ 设置自动备份时间
- ✅ 设置备份保留天数
- ✅ 启用/禁用自动清理

**配置示例:**

```
自动备份设置:
├── ☑ 启用自动备份
├── 备份时间: 凌晨 02:00
├── 保留天数: 30 天
└── ☑ 自动清理旧备份

操作: 点击 "保存设置" 按钮
```

**配置说明:**
- **自动备份时间**: 建议设置在凌晨,避免影响白天使用
- **保留天数**: 建议 30 天,根据磁盘空间调整
- **自动清理**: 建议启用,自动释放磁盘空间

---

### 3. 💻 系统信息

**功能:**
- ✅ 查看 CPU 使用率
- ✅ 查看内存使用率
- ✅ 查看磁盘使用率
- ✅ 查看数据总大小
- ✅ 查看系统详细信息
- ✅ 查看存储详情

**监控指标:**

```
系统资源:
├── CPU 使用率: 25%
├── 内存使用率: 45%
├── 磁盘使用率: 68%
└── 数据总大小: 2.3 GB

系统信息:
├── 操作系统: Linux 6.6.87
├── 主机名: EnglishLearn-Server
├── Python 版本: 3.11.2
└── CPU 核心数: 4 核

存储详情:
├── 数据库大小: 512 MB
├── 媒体文件大小: 1.8 GB
├── 内存总量: 8 GB
└── 磁盘总量: 100 GB
```

---

## 🔐 权限说明

**系统管理功能对所有登录用户开放。**

建议:
- 重要操作前先创建备份
- 定期下载备份到本地保存
- 恢复前仔细确认备份文件

---

## ❓ 常见问题

### Q1: 找不到"系统管理"菜单?

**解决方法:**
1. 刷新页面 (Ctrl+R 或 F5)
2. 重新登录
3. 清除浏览器缓存后重新登录

### Q2: 如何升级系统?

**目前升级需要通过命令行:**
```bash
cd /opt/EnglishLearn
sudo ./deploy.sh update
```

**未来计划:**
- 将在"系统管理"页面添加"一键升级"功能
- 用户可以直接在 Web 界面完成升级

### Q3: 备份文件保存在哪里?

**服务器上:**
- 路径: `/opt/EnglishLearn_Backups`
- 文件名: `EnglishLearn_完整备份_时间戳.tar.gz`

**本地:**
- 下载后保存在浏览器默认下载目录
- 建议定期下载到本地或云盘保存

### Q4: 恢复备份会丢失当前数据吗?

**安全机制:**
- ✅ 恢复前会自动备份当前数据
- ✅ 备份文件名: `el.db.before_restore_时间戳`
- ✅ 如果恢复失败或恢复错误,可以回退

### Q5: 自动备份配置后多久生效?

**生效时间:**
- 配置保存后立即生效
- 下次到达设定时间时自动执行
- 例如: 设置凌晨 02:00,则当天凌晨 02:00 首次执行

### Q6: 磁盘空间不足怎么办?

**解决方法:**
1. 点击 "清理旧备份" 删除 30 天前的备份
2. 下载备份到本地后删除服务器上的备份
3. 在"系统设置"中减少"保留天数"
4. 联系管理员扩展磁盘空间

---

## 📞 技术支持

如果遇到问题:
1. 查看本文档的常见问题部分
2. 查看完整文档: `/opt/EnglishLearn/docs/DEPLOYMENT.md`
3. 提交 Issue: https://github.com/ssl2010/EnglishLearn/issues

---

## 🎯 最佳实践

### 备份策略建议

**定期备份:**
- ✅ 启用自动备份 (每天凌晨)
- ✅ 重要操作前手动备份
- ✅ 每月下载一次备份到本地

**备份保存:**
- ✅ 本地保存: 硬盘/U盘
- ✅ 云盘保存: 百度网盘/OneDrive
- ✅ 多地备份: 避免单点故障

**定期检查:**
- ✅ 每周查看备份列表
- ✅ 确认自动备份正常执行
- ✅ 监控磁盘使用率

---

## 📋 快速操作清单

**首次使用:**
- [ ] 进入"系统管理"页面
- [ ] 配置自动备份 (凌晨 02:00)
- [ ] 设置保留天数 (30 天)
- [ ] 启用自动清理
- [ ] 保存设置
- [ ] 手动创建第一个备份
- [ ] 下载到本地测试

**日常使用:**
- [ ] 每周查看备份列表
- [ ] 每月下载一次备份
- [ ] 重要操作前手动备份
- [ ] 定期查看系统信息

**紧急恢复:**
- [ ] 选择正确的备份文件
- [ ] 创建当前状态备份
- [ ] 确认恢复操作
- [ ] 等待恢复完成
- [ ] 刷新页面验证

---

**更新时间:** 2026-01-24
**版本:** 1.0
